<!DOCTYPE html>
<html lang='en'>

<head>
    <title>Sign in</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-signin-client_id" content="159519841144-9ai8rcbak4i1bl36i72crp612kv2jlkr.apps.googleusercontent.com">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
            crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://bootswatch.com/5/flatly/bootstrap.min.css">
    <link rel="stylesheet" href="css/google-button.css">

</head>

<body>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://apis.google.com/js/platform.js" async defer></script>

<div class="container unauthenticated">
With GitHub:<a href = "/oauth2/authorization/github">GitHub</a>
<div>
With Google: <a href = "/oauth2/authorization/google">Google</a>
</div>

    <div class="google-btn">
        <div class="google-icon-wrapper">
            <img class="google-icon" src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"/>
        </div>
        <p class="btn-text"><b>Sign in with google</b></p>
    </div>
</div>

<div class="container authenticated" style="display: none" >
    Logged in as: <span id="user"></span>
    <div>
        <button onclick="logout()" class="btn btn-primary">Logout</button>
    </div>


</div>
<script tpye="text/javascript" src="/webjars/js-cookie/js.cookie.js">
</script>
<script tpye="text/javascript">
    $.ajaxSetup({
        beforeSend: function(xhr,settings){
            if(settings.type == "POST"ã€€|| settings.type == "PUT" || settings.type == "DELETE"){
                if(!(/^http:.*/.test(settings.url)||/^https:.*/.test(settings.url))){
                    xhr.setRequestHeader("X-XSRF-TOKEN",Cookies.get("XSRF-TOKEN"));
                }
            }
        }
    });
    $.get("/user",function(data){
        $("#user").html(data.name);
        $(".unauthenticated").hide();
        $(".authenticated").show();
        location.replace(" http://localhost:8080/home.html") ;
    })
    var logout = function(){
        $.post("/logout",function(){
            $("#user").html("");
            $(".unauthenticated").show();
            $(".authenticated").hide();
        })
        return true;
    }


</script>






<!--<div class="g-signin2" data-onsuccess="onSignIn"></div>-->
<!--<div
        id="g_id_onload"
        data-client_id="159519841144-9ai8rcbak4i1bl36i72crp612kv2jlkr.apps.googleusercontent.com"
        data-callback="handleCallback"
        data-auto_prompt="false"
></div>
<div
        class="g_id_signin"
        data-type="standard"
        data-size="large"
        data-theme="outline"
        data-text="sign_in_with"
        data-shape="pill"
        data-logo_alignment="left"
></div>
<div class="data">
    <p>Name</p>
    <p id="name"></p>
    <p>Image</p>
    <img id="image" class="rounded-circle" width="100" height="100" />
    <p>Email</p>
    <p id="email"></p>
    <button type="button" class="btn btn-danger" onclick="signOut();">Sign Out</button>
</div>-->

</body>

</html>